# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é Power Bank Rental Web App

## ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [x] **API Client** - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend API
- [x] **Payment Service** - –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Apple Pay –∏ Braintree
- [x] **Auth Service** - –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [x] **Payment Screen** - –≠–∫—Ä–∞–Ω –æ–ø–ª–∞—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ Figma –¥–∏–∑–∞–π–Ω—É
- [x] **Success Screen** - –≠–∫—Ä–∞–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
- [x] **Deep Links** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ QR-–∫–æ–¥–æ–≤ –∏ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [x] **Web Configuration** - –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–∞–Ω–∏—Ñ–µ—Å—Ç –∏ HTML

### ‚úÖ UI/UX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [x] **AppButton** - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –∫–Ω–æ–ø–∫–∞
- [x] **ErrorView** - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- [x] **Loader** - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- [x] **PaymentProvider** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [x] **Braintree JS SDK** - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] **Apple Pay JS** - –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Ç—Ä–µ–±—É–µ—Ç server-side validation)
- [x] **Go Router** - –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Ä–æ—É—Ç–∏–Ω–≥
- [x] **Provider** - State management

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### 1. Apple Pay Domain Verification
```html
<!-- –í web/index.html –∑–∞–º–µ–Ω–∏—Ç—å -->
<meta name="apple-pay-domain-verification" content="YOUR_DOMAIN_VERIFICATION_CODE">
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ @kareemnba –≤ Telegram
2. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
3. –ü–æ–ª—É—á–∏—Ç—å verification code –æ—Ç Apple
4. –î–æ–±–∞–≤–∏—Ç—å –≤ HTML

### 2. Braintree Configuration
```dart
// –í lib/services/api_client.dart –ø—Ä–æ–≤–µ—Ä–∏—Ç—å baseUrl
static const String baseUrl = 'https://goldfish-app-3lf7u.ondigitalocean.app';
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Braintree Dashboard:**
- [ ] –í–∫–ª—é—á–∏—Ç—å Apple Pay
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook endpoints
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∫–ª—é—á–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å merchant ID

### 3. CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ backend —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞.

### 4. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ HTTPS –¥–ª—è —Ä–∞–±–æ—Ç—ã Apple Pay –∏ Braintree.

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
flutter pub get

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
flutter run -d web-server --web-port 3000

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç–∞–Ω—Ü–∏–µ–π
# –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000/?stationId=RECH082203000350
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω —Å–±–æ—Ä–∫–∞
```bash
# –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
flutter build web --release

# –§–∞–π–ª—ã –±—É–¥—É—Ç –≤ –ø–∞–ø–∫–µ build/web/
```

### –î–µ–ø–ª–æ–π –Ω–∞ Vercel
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Vercel CLI
npm i -g vercel

# –î–µ–ø–ª–æ–π
vercel --prod --dir build/web
```

### –î–µ–ø–ª–æ–π –Ω–∞ Netlify
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Netlify CLI
npm i -g netlify-cli

# –î–µ–ø–ª–æ–π
netlify deploy --prod --dir build/web
```

### –î–µ–ø–ª–æ–π –Ω–∞ Firebase Hosting
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Firebase CLI
npm i -g firebase-tools

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
firebase init hosting

# –î–µ–ø–ª–æ–π
firebase deploy --only hosting
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- **Station ID**: `RECH082203000350`
- **Test URL**: `https://yourdomain.com/?stationId=RECH082203000350`

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
1. **QR Code Flow**: –û—Ç–∫—Ä—ã—Ç—å URL —Å stationId
2. **Apple Pay**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –Ω–∞ iOS —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
3. **Card Payment**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Braintree Drop-in
4. **Error Handling**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
5. **Mobile Responsive**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üì± –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### PWA –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [x] –ú–∞–Ω–∏—Ñ–µ—Å—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] –ò–∫–æ–Ω–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] Meta —Ç–µ–≥–∏ –¥–ª—è iOS

### Responsive –¥–∏–∑–∞–π–Ω
- [x] –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
- [x] Touch-friendly –∫–Ω–æ–ø–∫–∏
- [x] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] HTTPS –≤–∫–ª—é—á–µ–Ω
- [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] API –∫–ª—é—á–∏ –∑–∞—â–∏—â–µ–Ω—ã
- [ ] Domain verification –¥–ª—è Apple Pay
- [ ] Braintree webhooks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```dart
// –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Dio interceptor
_dio.interceptors.add(LogInterceptor(
  requestBody: true,
  responseBody: true,
  error: true,
));
```

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- Braintree Dashboard –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
- Apple Pay Analytics
- Custom error tracking

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **Telegram**: @kareemnba
- **Backend API**: https://goldfish-app-3lf7u.ondigitalocean.app/swagger-ui/

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. **Apple Pay –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å domain verification
2. **Braintree –æ—à–∏–±–∫–∏** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∫–ª—é—á–∏
3. **CORS –æ—à–∏–±–∫–∏** ‚Üí –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. **Deep links –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
- [ ] Flutter –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
- [ ] Braintree –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Apple Pay domain verified
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] QR –∫–æ–¥ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Payment screen –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Apple Pay –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ iOS
- [ ] Card payment —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Success screen –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- [ ] Error handling —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Mobile responsive

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
- [ ] –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] CDN –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- [ ] Rollback –ø–ª–∞–Ω

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó. –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω –∏ SSL
2. –ü–æ–ª—É—á–∏—Ç—å Apple Pay domain verification
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Braintree –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É

**–£–¥–∞—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞! üöÄ**
